export function regexSelectorMatches(reg, raw, ignoreCase) {
    if (!reg) {
        return null;
    }
    const res = {};
    const pattern = toRegexp(reg);
    const regex = new RegExp(pattern instanceof RegExp ? pattern : `^${pattern.trim()}$`, ignoreCase ? 'i' : undefined);
    const matched = regex.exec(raw);
    if (!matched) {
        return null;
    }
    for (const [i, val] of matched.entries())
        res[`$${i}`] = val;
    return {
        ...res,
        ...matched.groups,
    };
}
function toRegexp(pattern) {
    const matched = pattern.match(/^\/(.+)\/([gi]*)$/i);
    if (matched && matched[1]) {
        return new RegExp(matched[1], matched[2]);
    }
    return pattern;
}
